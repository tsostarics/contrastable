<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>contrastable • contrastable</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="contrastable">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">contrastable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/contrastable.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/contrasts.html">Contrastable Overview</a></li>
    <li><a class="dropdown-item" href="../articles/warnings.html">Warnings, Messages, and Errors</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tsostarics/contrastable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>contrastable</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tsostarics/contrastable/blob/main/vignettes/contrastable.Rmd" class="external-link"><code>vignettes/contrastable.Rmd</code></a></small>
      <div class="d-none name"><code>contrastable.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="get-started">Get started<a class="anchor" aria-label="anchor" href="#get-started"></a>
</h2>
<p>This vignette provides a quick guide to start using this package for
your analyses. Additional examples with more written detail are
available in <code><a href="../articles/contrasts.html">vignette("contrasts")</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="co"># install.packages("contrastable")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tsostarics/contrastable" class="external-link">contrastable</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div class="section level3">
<h3 id="setting-contrasts-to-data-frame-columns">Setting contrasts to data frame columns<a class="anchor" aria-label="anchor" href="#setting-contrasts-to-data-frame-columns"></a>
</h3>
<p>There are three main functions which I’ll discuss in order:</p>
<ul>
<li>
<code>set_contrasts</code>: set contrasts directly to factor
columns</li>
<li>
<code>enlist_contrasts</code>: get a list of contrast matrices</li>
<li>
<code>glimpse_contrasts</code>: get a summary table of contrast
information</li>
</ul>
<p>All three use a shared two-sided formula syntax, for example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">my_dataframe</span>, </span>
<span>                 <span class="va">varname</span> <span class="op">~</span> <span class="va">contrast_scheme</span> <span class="op">+</span> <span class="va">reference</span> <span class="op">*</span> <span class="va">intercept</span> <span class="op">-</span> <span class="va">dropped</span> <span class="op">|</span> <span class="va">labels</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>
<code>varname</code>: The variable name of the column whose
contrasts you want to set.</li>
<li>
<code>contrast_scheme</code>: (most often) a function that creates
contrast matrices, can also be a variable assigned a matrix (eg
<code>my_mat &lt;- matrix(...)</code>, <code>my_mat</code> can be used)
or a <code>hypr</code> object.</li>
<li>
<code>reference</code>: Use the <code>+</code> operator to set the
reference level. This is usually the baseline to use for pairwise
comparisons. If the levels of <code>varname</code> are
<code>c("High", "Mid", "Low")</code>, you might set this to Low with
<code>+ "Low"</code>
</li>
<li>
<code>intercept</code>: Use the <code>*</code> operator to set the
intercept, overwriting whatever the default is for the given contrast
scheme. For example, the intercept (and reference level) for
<code>treatment_code</code> is usually the first level alphabetically,
but could be changed. For example, <code>* "Mid"</code>
</li>
<li>
<code>dropped</code>: Use the <code>-</code> operator to remove some
comparisons from the contrast matrix. Cannot be used with
<code><a href="../reference/set_contrasts.html">set_contrasts()</a></code>. Sometimes used with polynomial
contrasts.</li>
<li>
<code>labels</code>: Use the <code>|</code> operator to set the
comparison labels, overwriting the defaults for the contrast scheme. For
example, if doing pairwise comparisons for <code>varname</code> using
<code>treatment_code</code> for levels
<code>c("High", "Mid", "Low")</code> with <code>High</code> as the
default reference level, the default coefficient names will be
<code>varnameMid</code> and <code>varnameLow</code>. We can use
<code>| c("Mid-High", "Low-High")</code> to change these in the output
to <code>varnameMid-High</code> and <code>varnameLow-High</code>.</li>
</ul>
<p>The operators can be used in any order, but
<code>contrast_scheme</code> always has to be the first thing after the
<code>~</code>.</p>
<div class="section level4">
<h4 id="set_contrasts">set_contrasts<a class="anchor" aria-label="anchor" href="#set_contrasts"></a>
</h4>
<p>Use this to set contrasts directly to a column, coercing it to a
factor as necessary. Often used as the last step in a wrangling
pipeline. The result should be assigned to a variable. We can set
<code>print_contrasts = TRUE</code> to print the contrasts that have
been set. Below we set the contrasts for a binary <code>gear_type</code>
variable to use scaled sum coding with <code>odd</code> as the reference
level while setting the comparison label to be something informative,
which is reflected in the model summary.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/set_contrasts.html">set_contrasts</a></span><span class="op">(</span><span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                print_contrasts <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type</span></span></span>
<span><span class="co">#&gt; $gear_type</span></span>
<span><span class="co">#&gt;      Odd-Even</span></span>
<span><span class="co">#&gt; even  1/2    </span></span>
<span><span class="co">#&gt; odd  -1/2</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">gear_type</span>, data <span class="op">=</span> <span class="va">model_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = mpg ~ gear_type, data = model_data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class="co">#&gt; -7.025 -3.127 -1.679  2.398 12.975 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                   Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)        20.9792     0.9111  23.026  &lt; 2e-16 ***</span></span>
<span><span class="co">#&gt; gear_typeOdd-Even   7.1083     1.8222   3.901 0.000501 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 4.99 on 30 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.3365, Adjusted R-squared:  0.3144 </span></span>
<span><span class="co">#&gt; F-statistic: 15.22 on 1 and 30 DF,  p-value: 0.0005009</span></span></code></pre></div>
<p>We can set multiple columns at once by listing multiple columns on
the left hand side, separated by <code>+</code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/set_contrasts.html">set_contrasts</a></span><span class="op">(</span><span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                print_contrasts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">~</span> <span class="va">helmert_code</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type carb cyl</span></span></span>
<span><span class="co">#&gt; $gear_type</span></span>
<span><span class="co">#&gt;      Odd-Even</span></span>
<span><span class="co">#&gt; even  1/2    </span></span>
<span><span class="co">#&gt; odd  -1/2    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $carb</span></span>
<span><span class="co">#&gt;   &lt;2   &lt;3   &lt;4   &lt;6   &lt;8  </span></span>
<span><span class="co">#&gt; 1 -1/2 -1/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 2  1/2 -1/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 3    0  2/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 4    0    0  3/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 6    0    0    0  4/5 -1/6</span></span>
<span><span class="co">#&gt; 8    0    0    0    0  5/6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cyl</span></span>
<span><span class="co">#&gt;   &lt;6   &lt;8  </span></span>
<span><span class="co">#&gt; 4 -1/2 -1/3</span></span>
<span><span class="co">#&gt; 6  1/2 -1/3</span></span>
<span><span class="co">#&gt; 8    0  2/3</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">gear_type</span> <span class="op">+</span> <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span>, data <span class="op">=</span> <span class="va">model_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = mpg ~ gear_type + carb + cyl, data = model_data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -5.5190 -1.6626  0.0115  1.8229  6.3961 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                   Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)       20.76667    0.98358  21.113   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; gear_typeOdd-Even  1.91122    1.94985   0.980   0.3372    </span></span>
<span><span class="co">#&gt; carb&lt;2            -0.58488    1.79537  -0.326   0.7475    </span></span>
<span><span class="co">#&gt; carb&lt;3            -0.56951    2.54671  -0.224   0.8250    </span></span>
<span><span class="co">#&gt; carb&lt;4            -3.14772    1.67694  -1.877   0.0733 .  </span></span>
<span><span class="co">#&gt; carb&lt;6             0.07335    3.89232   0.019   0.9851    </span></span>
<span><span class="co">#&gt; carb&lt;8            -0.90741    3.61691  -0.251   0.8041    </span></span>
<span><span class="co">#&gt; cyl&lt;6             -4.69683    2.14496  -2.190   0.0390 *  </span></span>
<span><span class="co">#&gt; cyl&lt;8             -6.08232    2.23460  -2.722   0.0122 *  </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 3.361 on 23 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.7693, Adjusted R-squared:  0.689 </span></span>
<span><span class="co">#&gt; F-statistic: 9.586 on 8 and 23 DF,  p-value: 9.454e-06</span></span></code></pre></div>
<p>We can also use <code>tidyselect</code> functionality to target
multiple columns. Note that when doing so, you cannot specify duplicated
column names.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/set_contrasts.html">set_contrasts</a></span><span class="op">(</span><span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                <span class="va">vs</span><span class="op">:</span><span class="va">carb</span> <span class="op">~</span> <span class="va">helmert_code</span>,</span>
<span>                print_contrasts <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type vs am gear carb</span></span></span>
<span><span class="co">#&gt; $gear_type</span></span>
<span><span class="co">#&gt;      Odd-Even</span></span>
<span><span class="co">#&gt; even  1/2    </span></span>
<span><span class="co">#&gt; odd  -1/2    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vs</span></span>
<span><span class="co">#&gt;   &lt;1  </span></span>
<span><span class="co">#&gt; 0 -1/2</span></span>
<span><span class="co">#&gt; 1  1/2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $am</span></span>
<span><span class="co">#&gt;   &lt;1  </span></span>
<span><span class="co">#&gt; 0 -1/2</span></span>
<span><span class="co">#&gt; 1  1/2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $gear</span></span>
<span><span class="co">#&gt;   &lt;4   &lt;5  </span></span>
<span><span class="co">#&gt; 3 -1/2 -1/3</span></span>
<span><span class="co">#&gt; 4  1/2 -1/3</span></span>
<span><span class="co">#&gt; 5    0  2/3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $carb</span></span>
<span><span class="co">#&gt;   &lt;2   &lt;3   &lt;4   &lt;6   &lt;8  </span></span>
<span><span class="co">#&gt; 1 -1/2 -1/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 2  1/2 -1/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 3    0  2/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 4    0    0  3/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 6    0    0    0  4/5 -1/6</span></span>
<span><span class="co">#&gt; 8    0    0    0    0  5/6</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="enlist_contrasts">enlist_contrasts<a class="anchor" aria-label="anchor" href="#enlist_contrasts"></a>
</h3>
<p>Used to get a named list of contrast matrices. Useful to pass to the
<code>contrasts</code> argument of a modeling function if available.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_contrasts</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type</span></span></span>
<span></span>
<span><span class="va">model_contrasts</span></span>
<span><span class="co">#&gt; $gear_type</span></span>
<span><span class="co">#&gt;      Odd-Even</span></span>
<span><span class="co">#&gt; even      0.5</span></span>
<span><span class="co">#&gt; odd      -0.5</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_contrasts</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                   <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">~</span> <span class="va">sum_code</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type carb cyl</span></span></span>
<span></span>
<span><span class="va">model_contrasts</span></span>
<span><span class="co">#&gt; $gear_type</span></span>
<span><span class="co">#&gt;      Odd-Even</span></span>
<span><span class="co">#&gt; even      0.5</span></span>
<span><span class="co">#&gt; odd      -0.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $carb</span></span>
<span><span class="co">#&gt;    2  3  4  6  8</span></span>
<span><span class="co">#&gt; 1 -1 -1 -1 -1 -1</span></span>
<span><span class="co">#&gt; 2  1  0  0  0  0</span></span>
<span><span class="co">#&gt; 3  0  1  0  0  0</span></span>
<span><span class="co">#&gt; 4  0  0  1  0  0</span></span>
<span><span class="co">#&gt; 6  0  0  0  1  0</span></span>
<span><span class="co">#&gt; 8  0  0  0  0  1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cyl</span></span>
<span><span class="co">#&gt;    6  8</span></span>
<span><span class="co">#&gt; 4 -1 -1</span></span>
<span><span class="co">#&gt; 6  1  0</span></span>
<span><span class="co">#&gt; 8  0  1</span></span></code></pre></div>
<p>We can also use matrix objects when setting contrasts:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">carb_contrasts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scaled_sum_code.html">scaled_sum_code</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">mtcars</span>,</span>
<span>                 <span class="va">cyl</span> <span class="op">~</span> <span class="va">sum_code</span>,</span>
<span>                 <span class="va">carb</span> <span class="op">~</span> <span class="va">carb_contrasts</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">cyl carb</span></span></span>
<span><span class="co">#&gt; $cyl</span></span>
<span><span class="co">#&gt;    6  8</span></span>
<span><span class="co">#&gt; 4 -1 -1</span></span>
<span><span class="co">#&gt; 6  1  0</span></span>
<span><span class="co">#&gt; 8  0  1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $carb</span></span>
<span><span class="co">#&gt;            2          3          4          6          8</span></span>
<span><span class="co">#&gt; 1 -0.1666667 -0.1666667 -0.1666667 -0.1666667 -0.1666667</span></span>
<span><span class="co">#&gt; 2  0.8333333 -0.1666667 -0.1666667 -0.1666667 -0.1666667</span></span>
<span><span class="co">#&gt; 3 -0.1666667  0.8333333 -0.1666667 -0.1666667 -0.1666667</span></span>
<span><span class="co">#&gt; 4 -0.1666667 -0.1666667  0.8333333 -0.1666667 -0.1666667</span></span>
<span><span class="co">#&gt; 6 -0.1666667 -0.1666667 -0.1666667  0.8333333 -0.1666667</span></span>
<span><span class="co">#&gt; 8 -0.1666667 -0.1666667 -0.1666667 -0.1666667  0.8333333</span></span></code></pre></div>
<p>Note here that the reference level is always the first level in the
factor, which is typically alphanumeric order. For example,
<code>contr.sum</code> usually sets the last level as the reference, but
we can see that when using this package’s functions it’s always the
first level (for sum coding, this is the row with all
<code>-1</code>).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">contr.sum</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="co"># third row = reference level</span></span>
<span><span class="co">#&gt;   [,1] [,2]</span></span>
<span><span class="co">#&gt; 1    1    0</span></span>
<span><span class="co">#&gt; 2    0    1</span></span>
<span><span class="co">#&gt; 3   -1   -1</span></span>
<span></span>
<span><span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">cyl</span> <span class="op">~</span> <span class="va">contr.sum</span><span class="op">)</span> <span class="co"># == sum_code</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">cyl</span></span></span>
<span><span class="co">#&gt; $cyl</span></span>
<span><span class="co">#&gt;    6  8</span></span>
<span><span class="co">#&gt; 4 -1 -1</span></span>
<span><span class="co">#&gt; 6  1  0</span></span>
<span><span class="co">#&gt; 8  0  1</span></span></code></pre></div>
<p>This behavior can be suppressed by wrapping the contrast scheme with
<code><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I()</a></code>, but will issue a warning:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">cyl</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">contr.sum</span><span class="op">)</span><span class="op">)</span> <span class="co"># == sum_code</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">cyl</span></span></span>
<span><span class="co">#&gt; Warning in .postprocess_matrix(new_contrasts, code_by, reference_level, : No</span></span>
<span><span class="co">#&gt; comparison labels set and as_is=TRUE, contrast labels will be column indices.</span></span>
<span><span class="co">#&gt; $cyl</span></span>
<span><span class="co">#&gt;    1  2</span></span>
<span><span class="co">#&gt; 1  1  0</span></span>
<span><span class="co">#&gt; 2  0  1</span></span>
<span><span class="co">#&gt; 3 -1 -1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="glimpse_contrasts">glimpse_contrasts<a class="anchor" aria-label="anchor" href="#glimpse_contrasts"></a>
</h3>
<p>Used to summarize information about the contrast schemes used. Note
that this is usually used as a 2-step process, as it needs information
about the contrast specifications and it expects that the same contrasts
are set to the dataframe provided. For example, if I try to glimpse the
contrasts for <code>mtcars</code> directly, I’ll be warned that the
dataframe columns aren’t actually set to what I specified in the
formulas, along with a code snippet of how to fix this.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">mtcars</span>, gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/glimpse_contrasts.html">glimpse_contrasts</a></span><span class="op">(</span><span class="va">mtcars2</span>,</span>
<span>                  <span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                  <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">~</span> <span class="va">sum_code</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: These vars in `mtcars2` are not factors:</span></span>
<span><span class="co">#&gt;  - gear_type</span></span>
<span><span class="co">#&gt;  - carb</span></span>
<span><span class="co">#&gt;  - cyl</span></span>
<span><span class="co">#&gt; To fix, be sure to run:</span></span>
<span><span class="co">#&gt; mtcars2 &lt;- set_contrasts(mtcars2, </span></span>
<span><span class="co">#&gt;                          gear_type ~ scaled_sum_code + "odd" | c("Odd-Even"),</span></span>
<span><span class="co">#&gt;                          carb + cyl ~ sum_code)</span></span>
<span><span class="co">#&gt;      factor n  level_names          scheme reference  intercept</span></span>
<span><span class="co">#&gt; 1 gear_type 2    even, odd scaled_sum_code       odd grand mean</span></span>
<span><span class="co">#&gt; 2      carb 6 1, 2, 3,....        sum_code      &lt;NA&gt; grand mean</span></span>
<span><span class="co">#&gt; 3       cyl 3      4, 6, 8        sum_code      &lt;NA&gt; grand mean</span></span></code></pre></div>
<p>I can copy-paste this directly and try again:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_contrasts.html">set_contrasts</a></span><span class="op">(</span><span class="va">mtcars2</span>, </span>
<span>                         <span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                         <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">~</span> <span class="va">sum_code</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type carb cyl</span></span></span>
<span></span>
<span><span class="fu"><a href="../reference/glimpse_contrasts.html">glimpse_contrasts</a></span><span class="op">(</span><span class="va">mtcars2</span>,</span>
<span>                  <span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                  <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">~</span> <span class="va">sum_code</span><span class="op">)</span></span>
<span><span class="co">#&gt;      factor n  level_names          scheme reference  intercept</span></span>
<span><span class="co">#&gt; 1 gear_type 2    even, odd scaled_sum_code       odd grand mean</span></span>
<span><span class="co">#&gt; 2      carb 6 1, 2, 3,....        sum_code      &lt;NA&gt; grand mean</span></span>
<span><span class="co">#&gt; 3       cyl 3      4, 6, 8        sum_code      &lt;NA&gt; grand mean</span></span></code></pre></div>
<p>The observation here is that if I don’t use
<code><a href="../reference/set_contrasts.html">set_contrasts()</a></code> on my dataset used in my statistical model,
the results won’t match the information in the table from
<code><a href="../reference/glimpse_contrasts.html">glimpse_contrasts()</a></code>. However, this also requires changing
the formulas in 2 places if I need to make any changes. We can make 1
list of contrast formulas that we pass around to different functions
like so:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_contrasts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">gear_type</span> <span class="op">~</span> <span class="va">scaled_sum_code</span> <span class="op">+</span> <span class="st">"odd"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odd-Even"</span><span class="op">)</span>,</span>
<span>                     <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">~</span> <span class="va">sum_code</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mtcars2</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">mtcars</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>gear_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">gear</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"even"</span>, <span class="st">"odd"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/set_contrasts.html">set_contrasts</a></span><span class="op">(</span><span class="va">my_contrasts</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">gear_type carb cyl</span></span></span>
<span></span>
<span><span class="fu"><a href="../reference/glimpse_contrasts.html">glimpse_contrasts</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">my_contrasts</span><span class="op">)</span></span>
<span><span class="co">#&gt;      factor n  level_names          scheme reference  intercept</span></span>
<span><span class="co">#&gt; 1 gear_type 2    even, odd scaled_sum_code       odd grand mean</span></span>
<span><span class="co">#&gt; 2      carb 6 1, 2, 3,....        sum_code      &lt;NA&gt; grand mean</span></span>
<span><span class="co">#&gt; 3       cyl 3      4, 6, 8        sum_code      &lt;NA&gt; grand mean</span></span></code></pre></div>
<div class="section level4">
<h4 id="decompose_contrasts">decompose_contrasts<a class="anchor" aria-label="anchor" href="#decompose_contrasts"></a>
</h4>
<p>Use this function to extract the contrasts of one column into
separate columns– one for each comparison. This function is particularly
helpful for pedagogical uses to show students how contrasts are
represented from the model’s perspective. Below we see that we’ve added
3 new columns from decomposing the <code>gear_type</code> and
<code>cyl</code> columns into their respective comparisons.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/decompose_contrasts.html">decompose_contrasts</a></span><span class="op">(</span><span class="op">~</span><span class="va">gear_type</span> <span class="op">+</span> <span class="va">cyl</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb gear_type</span></span>
<span><span class="co">#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4      even</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4      even</span></span>
<span><span class="co">#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1      even</span></span>
<span><span class="co">#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1       odd</span></span>
<span><span class="co">#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2       odd</span></span>
<span><span class="co">#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1       odd</span></span>
<span><span class="co">#&gt;                   gear_typeOdd-Even cyl6 cyl8</span></span>
<span><span class="co">#&gt; Mazda RX4                       0.5    1    0</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag                   0.5    1    0</span></span>
<span><span class="co">#&gt; Datsun 710                      0.5   -1   -1</span></span>
<span><span class="co">#&gt; Hornet 4 Drive                 -0.5    1    0</span></span>
<span><span class="co">#&gt; Hornet Sportabout              -0.5    0    1</span></span>
<span><span class="co">#&gt; Valiant                        -0.5    1    0</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="contrast-functions">Contrast functions<a class="anchor" aria-label="anchor" href="#contrast-functions"></a>
</h3>
<p>Below is a listing of the different contrast coding functions
provided by this package. You would use these in the
<code>contrast_scheme</code> part of the formulas. The intercept is
described for the default case, but can be changed as described above
using the <code>*</code> operator.</p>
<ul>
<li>
<code><a href="../reference/treatment_code.html">treatment_code()</a></code>: Pairwise comparisons from a reference
level, intercept equals mean of the reference level.</li>
<li>
<code><a href="../reference/scaled_sum_code.html">scaled_sum_code()</a></code>: Pairwise comparisons from a
reference level, intercept equals the grand mean</li>
<li>
<code><a href="../reference/sum_code.html">sum_code()</a></code>: Pairwise comparisons from the grand mean
for all levels except the reference level, intercept equals the grand
mean.</li>
<li>
<code>backwards_difference_code()</code>: Subtract adjacent levels.
For levels A, B, C, D (in that order), returns the differences B-A, C-B,
and D-C. Intercept equals the grand mean.</li>
<li>
<code>forwards_difference_code()</code>: Subtract adjacent levels.
For levels A, B, C, D (in that order), returns the differences A-B, B-C,
and C-D. Intercept equals the grand mean.</li>
<li>
<code><a href="../reference/helmert_code.html">helmert_code()</a></code>: Nested comparisons starting from the
first level. Intercept equals the grand mean.</li>
<li>
<code><a href="../reference/reverse_helmert_code.html">reverse_helmert_code()</a></code>: Nested comparisons starting
from the last level. Intercept equals the grand mean.</li>
<li>
<code><a href="../reference/cumulative_split_code.html">cumulative_split_code()</a></code>: Cumulative grouping of levels.
For levels A, B, C, D (in that order), returns A-(B+C+D), (A+B)-(C+D),
(A+B+C)-D. Intercept equals the grand mean.</li>
<li>
<code><a href="../reference/orth_polynomial_code.html">polynomial_code()</a></code>: Orthogonal polynomial coding,
intercept equals the grand mean.</li>
<li>
<code><a href="../reference/raw_polynomial_code.html">raw_polynomial_code()</a></code>: Raw polynomial coding, intercept
equals the grand mean.</li>
</ul>
<p>You can use any function that returns contrast matrices. Below are
some functions from the <code>stats</code> and <code>MASS</code>
packages that can be used.</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">stats::contr.treatment()</a></code>: Equivalent to treatment
coding (<code><a href="../reference/treatment_code.html">treatment_code()</a></code>)</li>
<li>
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">stats::contr.SAS()</a></code>: Equivalent to treatment coding, but
uses the last level as the reference level by default. Note that this
difference is neutralized due to this package always setting the first
level as the reference level.</li>
<li>
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">stats::contr.poly</a></code>: Equivalent to polynomial coding
(<code><a href="../reference/orth_polynomial_code.html">polynomial_code()</a></code>)</li>
<li>
<code><a href="https://rdrr.io/pkg/MASS/man/contr.sdif.html" class="external-link">MASS::contr.sdif</a></code>: Equivalent to backwards difference
coding (<code>backwards_difference_code()</code>)</li>
<li>
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">stats::contr.sum</a></code>: Equivalent to sum coding
(<code><a href="../reference/sum_code.html">sum_code()</a></code>)</li>
<li>
<code><a href="https://rdrr.io/r/stats/contrast.html" class="external-link">stats::contr.helmert</a></code>: Provides nested comparisons like
helmert coding (<code><a href="../reference/helmert_code.html">helmert_code()</a></code>), but the matrix is not
scaled. This means that the effect estimates are off by a scaling factor
dependent on the number of levels. This is reflected in the default
comparison labels this package provides. See below.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">carb</span> <span class="op">~</span> <span class="va">contr.helmert</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">carb</span></span></span>
<span><span class="co">#&gt; $carb</span></span>
<span><span class="co">#&gt;   (&lt;2)/2 (&lt;3)/3 (&lt;4)/4 (&lt;6)/5 (&lt;8)/6</span></span>
<span><span class="co">#&gt; 1     -1     -1     -1     -1     -1</span></span>
<span><span class="co">#&gt; 2      1     -1     -1     -1     -1</span></span>
<span><span class="co">#&gt; 3      0      2     -1     -1     -1</span></span>
<span><span class="co">#&gt; 4      0      0      3     -1     -1</span></span>
<span><span class="co">#&gt; 6      0      0      0      4     -1</span></span>
<span><span class="co">#&gt; 8      0      0      0      0      5</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/enlist_contrasts.html">enlist_contrasts</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">carb</span> <span class="op">~</span> <span class="fu"><a href="../reference/helmert_code.html">helmert_code</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Converting to factors: <span style="color: #0000BB;">carb</span></span></span>
<span><span class="co">#&gt; $carb</span></span>
<span><span class="co">#&gt;   &lt;2   &lt;3   &lt;4   &lt;6   &lt;8  </span></span>
<span><span class="co">#&gt; 1 -1/2 -1/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 2  1/2 -1/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 3    0  2/3 -1/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 4    0    0  3/4 -1/5 -1/6</span></span>
<span><span class="co">#&gt; 6    0    0    0  4/5 -1/6</span></span>
<span><span class="co">#&gt; 8    0    0    0    0  5/6</span></span></code></pre>
<p>See <code><a href="../articles/contrasts.html">vignette("contrasts")</a></code> for more information.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Sostarics.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
